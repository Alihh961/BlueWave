{% extends 'base.html.twig' %}
{% block title %}Home{% endblock %}

{% block body %}

    <a href="/shopping-basket">

        <i class="fa-solid fa-basket-shopping shopping-basket"></i>
    </a>



    <swiper-container class="mySwiper" pagination-clickable="true" navigation="false" space-between="30"
                      centered-slides="true" autoplay-delay="2500" autoplay-disable-on-interaction="false"
                      pagination="false">
        <swiper-slide><img src="{{ asset('assets/images/banner/slide-1.jpeg') }}" alt="slide-1"></swiper-slide>
        <swiper-slide><img src="{{ asset('assets/images/banner/slide-2.jpeg') }}" alt="slide-2"></swiper-slide>
        <swiper-slide><img src="{{ asset('assets/images/banner/slide-3.jpeg') }}" alt="slide-3"></swiper-slide>
    </swiper-container>

    <div class="info-container">

        <p>
            For more info : <a style="font-weight: 500;text-decoration: none;color: black" href="tel:0096176686498">76 686 498</a>
        </p>
    </div>


    <div class="m-auto" style="max-width: 600px ;width: 90%">
        {{ form_start(form, {
            "attr" : {"class" : "searchForm-homePage"}
        }) }}

        <div class="d-flex flex-column flex-wrap gap-3 search-div align-items-center justify-content-end w-100">
            {{ form_widget(form.gameName , {"attr" : {"class": "mx-auto"}}) }}
            {{ form_label(form.gameName, 'Search', {'label_attr': {'class': 'm-auto'}}) }}


        </div>


        <div class="col-12 text-center mt-2">
            <button type="submit" class="btn btn-primary">Search</button>
        </div>


        {{ form_end(form) }}
    </div>
    <section class="products-home flex-row">

        {% if categories %}

        {% for category in categories %}

            <a class="product-container-home" href="view-product?c={{ category.id }}">

                <div class="product-home">

                    {% if category.url %}
                        <img class="" src="{{ asset('assets/images/categories/') }}{{ category.url }}"
                             alt="{{ category.name }}">

                    {% else %}
                        <img class="" src="{{ asset('img.png') }}"
                             alt="{{ category.name }}">

                    {% endif %}
                    <h6>{{ category.name }}</h6>

                </div>
            </a>

        {% endfor %}

    </section>

    <div class="navigation m-auto w-fit">
        {{ knp_pagination_render(categories, '@KnpPaginator/Pagination/bootstrap_v5_pagination.html.twig') }}
    </div>

    {% else %}
        <h2 class="w-fit mx-auto text-white">No items for this search</h2>

    {% endif %}



    <div class="services-slider">

        <div class="trace">
            <div class="slide">
                <img src="{{ asset('assets/images/services/alfa.jpg') }}" height="100" width="250" alt=""/>
            </div>

            <div class="slide">
                <img src="{{ asset('assets/images/services/whish.png') }}" height="100" width="250" alt=""/>
            </div>

            <div class="slide">
                <img src="{{ asset('assets/images/services/mtc.png') }}" height="100" width="250" alt=""/>
            </div>

            <div class="slide">
                <img src="{{ asset('assets/images/services/western.jpg') }}" height="100" width="250" alt=""/>
            </div>

            <div class="slide">
                <img src="{{ asset('assets/images/services/maleye.jpg') }}" height="100" width="250" alt=""/>
            </div>


            <div class="slide">
                <img src="{{ asset('assets/images/services/alfa.jpg') }}" height="100" width="250" alt=""/>
            </div>

            <div class="slide">
                <img src="{{ asset('assets/images/services/whish.png') }}" height="100" width="250" alt=""/>
            </div>

            <div class="slide">
                <img src="{{ asset('assets/images/services/mtc.png') }}" height="100" width="250" alt=""/>
            </div>

            <div class="slide">
                <img src="{{ asset('assets/images/services/western.jpg') }}" height="100" width="250" alt=""/>
            </div>

            <div class="slide">
                <img src="{{ asset('assets/images/services/maleye.jpg') }}" height="100" width="250" alt=""/>
            </div>


        </div>


    </div>


    <script src="https://cdn.jsdelivr.net/npm/swiper@11/swiper-element-bundle.min.js"></script>

    <script>
        const input = document.querySelector('#search_type_form_gameName');


        if(input.value){
            document.querySelector('#search_type_form_gameName + label').classList.add('translateAndResize');

        }else{
            document.querySelector('#search_type_form_gameName + label').classList.remove('translateAndResize');

        }

        input.addEventListener('blur', function (event) {
            const value = event.target.value;

            if (value) {
                document.querySelector('#search_type_form_gameName + label').classList.add('translateAndResize');
            } else {
                document.querySelector('#search_type_form_gameName + label').classList.remove('translateAndResize');
            }
        })

    </script>
{% endblock %}





